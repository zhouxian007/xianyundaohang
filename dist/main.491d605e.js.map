{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","titleText","document","title","hashMap","logo","url","removeUrl","replace","faviconUrl","$noshowimg","showimg","errorimg","src","render","remove","forEach","node","index","$li","insertBefore","on","e","preventDefault","splice","window","prompt","indexOf","console","log","push","onbeforeunload","string","stringify","setItem","key","i","length","toLowerCase","open"],"mappings":"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","file":"main.491d605e.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi = $siteList.find('li.last')\nconst x = localStorage.getItem('x')\nconst xObject = JSON.parse(x)\nlet titleText = document.title\nconst hashMap = xObject || [\n    {\n        logo: 'https://www.acfun.cn/favicon.ico', url: 'https://www.acfun.cn'\n    },\n    {\n        logo: \"https://www.bilibili.com/favicon.ico\", url: 'https://www.bilibili.com'\n    }\n];\n\n//简化展示的url链接\nconst removeUrl = (url) => {\n    return url.replace('https://', '')\n        .replace('http://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '')\n}\n//获取正确的favicon图标的地址\nconst faviconUrl = (url) => {\n    return url.replace(/com\\/.*/g, 'com')\n}\n//如果图片不能正常显示则替换掉\n$noshowimg = (showimg) => {\n    let errorimg = \"./images/error.png\";//替换图片地址\n\n    showimg.src = errorimg;\n}\n\nconst render = () => {\n    $siteList.find('li:not(.last)').remove()\n    hashMap.forEach((node, index) => {\n        const $li = $(`<li>\n            <a href=\"${node.url}\">\n            <div class=\"sitebox\">\n            <div class=\"site\">\n           \n                <div class=\"logo\">\n                <img id=\"img\" src=\"${faviconUrl(node.url)}/favicon.ico\" width=\"24\" height=\"24\" οnerrοr=\"noshowimg(this);\">\n                </div>\n                <div class=\"link\">${removeUrl(node.url)}</div >\n                <div class=\"close\">\n                    <svg class=\"icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#icon-close-circle\"></use>\n                    </svg>\n                </div>  \n            </div >     \n            </div >\n            </a >\n        </li > `).insertBefore($lastLi)\n\n\n        $li.on('click', '.close', (e) => {\n\n            e.preventDefault()\n            hashMap.splice(index, 1)\n            render();\n        })\n\n    })\n}\n\nrender();\n\n\n$('.addButton')\n    .on('click', () => {\n        let url = window.prompt('请问输入您要添加的网址：')\n        if (url.indexOf('http') != 0) {\n            url = 'http://' + url\n        }\n        console.log(url)\n        hashMap.push({\n            logo: url.replace('https://', '').replace('http://', '').replace('www.', '')[0],\n\n            url: url\n        })\n\n        render();\n\n\n    });\n\n\n\nwindow.onbeforeunload = () => {\n\n    const string = JSON.stringify(hashMap)\n\n    localStorage.setItem('x', string)\n}\n\n\n\n$(document).on('keypress', (e) => {\n    const key = e.key\n    for (let i = 0; i < hashMap.length; i++) {\n        if (hashMap[i].logo.toLowerCase() === key) {\n            window.open(hashMap[i].url)\n        }\n    }\n})\n\n\n"]}